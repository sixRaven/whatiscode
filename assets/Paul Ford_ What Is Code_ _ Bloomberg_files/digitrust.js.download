(function(){function h(m,r,n){function p(c,k){if(!r[c]){if(!m[c]){var t="function"==typeof require&&require;if(!k&&t)return t(c,!0);if(g)return g(c,!0);k=Error("Cannot find module '"+c+"'");throw k.code="MODULE_NOT_FOUND",k;}k=r[c]={exports:{}};m[c][0].call(k.exports,function(f){return p(m[c][1][f]||f)},k,k.exports,h,m,r,n)}return r[c].exports}for(var g="function"==typeof require&&require,c=0;c<n.length;c++)p(n[c]);return p}return h})()({1:[function(h,m,r){m.exports="1.5.37"},{}],2:[function(h,m,
r){m.exports={current:"prod"}},{}],3:[function(h,m,r){m.exports={en:{memberId:"[DigiTrust Client Error] Missing member ID, add the member ID to the function call options",postMessageOrigin:"[DigiTrust Client Error] Origin of postMessage call was not the official DigiTrust domain",iframeError:"[DigiTrust Iframe Error] Client could not connect to the iframe",appManifestXHR:"[DigiTrust Publisher Error] Client could not retrieve Publisher App Manifest JSON file",appManifestInvalid:"[DigiTrust Publisher Error] Publisher App Manifest does not contain valid JSON",
appNameInvalid:"[DigiTrust App Error] App name does not match available apps in manifest.json",iframeMissingMember:"[DigiTrust Iframe Error] Client did not send Member string",iframeMissingAppName:"[DigiTrust Iframe Error] Client did not send App Name string"}}},{}],4:[function(h,m,r){m.exports={gdprLanguages:[]}},{}],5:[function(h,m,r){m.exports={prod:{urls:{digitrustHostPath:"https://cdn.digitru.st/prod/1.5.37/",digitrustRedirect:"https://cdn.digitru.st/prod/1.5.37/redirect.html",digitrustIframe:"https://cdn.digitru.st/prod/1.5.37/dt.html",
digitrustIdService:"https://cdn-cf.digitru.st/id/v1",optoutInfo:"http://www.digitru.st/about-this-notice/",adblockCheck:"http://stats.aws.rubiconproject.com/"},redirectInterval:{exp:7},cookie:{version:2,producer:"1CrsdUNAo6",publisher:{domainKeyValue:"domain=.adform.net;",pathKeyValue:"path=/;",maxAgeMiliseconds:6048E5,userObjectKey:"DigiTrust.v1.identity"},digitrust:{domainKeyValue:"domain=.digitru.st;",pathKeyValue:"path=/;",maxAgeMiliseconds:15768E7,userObjectKey:"DigiTrust.v1.identity",resetKey:"DeleteEverything",
challenge:"DTChal",optout:"optout",optoutUser:{id:"",privacy:{optout:!0}},errorUser:{error:!0}}},iframe:{timeoutDuration:1E4,postMessageOrigin:"https://cdn.digitru.st"},crypto:{serverCryptoRate:0},logging:{enable:!1,level:"ERROR"},gvlVendorId:64},build:{urls:{digitrustHostPath:"https://cdn.digitru.st/prod/1.5.36/",digitrustRedirect:"https://cdn.digitru.st/prod/1.5.36/redirect.html",digitrustIframe:"https://cdn.digitru.st/prod/1.5.36/dt.html",digitrustIdService:"https://cdn-cf.digitru.st/id/v1",optoutInfo:"http://www.digitru.st/about-this-notice/",
adblockCheck:"http://stats.aws.rubiconproject.com/"}},local:{urls:{digitrustHostPath:"//localhost/dist/",digitrustRedirect:"//localhost/dist/redirect.html",digitrustIframe:"//local.digitru.st/dist/dt_debug.html",digitrustIdService:"http://local.digitru.st/misc/faked_id_service_v1.json",optoutInfo:"//localhost/dist/info.html",adblockCheck:"//stats.aws.rubiconproject.com/"},iframe:{timeoutDuration:1E4,postMessageOrigin:"http://local.digitru.st"},crypto:{serverCryptoRate:1},logging:{level:"DEBUG"},gvlVendorId:64}}},
{}],6:[function(h,m,r){m.exports={member:"",site:"",sample:1,redirects:!1,adblocker:{detection:!1,blockContent:!1,userMessage:"Did you know advertising pays for this brilliant content? Please disable your ad blocker, then press the Reload button below ... and thank you for your visit!",popupFontColor:"#5F615D",popupBackgroundColor:"#FFFFFF",logoSrc:null,logoText:null,pictureSrc:null},consent:{requires:"none",userMessage:'This site uses cookies and is a member of DigiTrust, a non-profit consortium of companies working together to improve your Web experience.  By clicking on this page you agree to the use of cookies. This notice only appears once. <a href="http://www.digitru.st/about-this-notice/">You can read more or opt out of DigiTrust here</a>.',
popupFontColor:"#ffffff",popupBackgroundColor:"#000000"}}},{}],7:[function(h,m,r){m.exports={type:"RSA-OAEP",hash:{name:"SHA-1"},version:4,spki:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAgrdFWb07eQFRtdmXcnVRpSZFoibNFMZDEZHn71j6oa5Ohw7miu/Cpl77h2Pp/0bLt3dHr6RcinqA9cck2nPjJEw2svSzJOHY1409Cxr7cyAhfmueLazL/C8DOyFSe3e4QGNsJtPTlNy6Etmnb4dvctpm/nQ2nDaPw5wnb0hWI6Ik7wtvjbH9SaCRlXcyEKpF1oXy55jDJeovSxQz9eL+bgObD2Lz43gidU4B/zPhbNI+KmMkV539okyFfmcBwrCQARkh9d3eI8kAH+PptTalApVAefPSGZdWkSvkNw7HEbcnLMWWWXKeF7z2lMBd7RbnCyBUmgtHLY6d8HX6JPWB6QIDAQAB",
jwk:{kty:"RSA",kid:"fb8cd98a-d21b-4cd6-8b3c-182727effee4",n:"grdFWb07eQFRtdmXcnVRpSZFoibNFMZDEZHn71j6oa5Ohw7miu_Cpl77h2Pp_0bLt3dHr6RcinqA9cck2nPjJEw2svSzJOHY1409Cxr7cyAhfmueLazL_C8DOyFSe3e4QGNsJtPTlNy6Etmnb4dvctpm_nQ2nDaPw5wnb0hWI6Ik7wtvjbH9SaCRlXcyEKpF1oXy55jDJeovSxQz9eL-bgObD2Lz43gidU4B_zPhbNI-KmMkV539okyFfmcBwrCQARkh9d3eI8kAH-PptTalApVAefPSGZdWkSvkNw7HEbcnLMWWWXKeF7z2lMBd7RbnCyBUmgtHLY6d8HX6JPWB6Q",e:"AQAB",alg:"RSA-OAEP",ext:!0,key_ops:["encrypt"]}}},{}],8:[function(h,m,r){h=h("./modules/DigiTrust");
void 0!==window&&null==window.DigiTrust&&(window.DigiTrust=h)},{"./modules/DigiTrust":10}],9:[function(h,m,r){function n(e){f=0;p(e,q);return q}function p(e,a){var b;if(7<f++||"object"!=typeof e||null==e)return a;for(b in e)if(e.hasOwnProperty(b)){var d=e[b];var l=typeof d;"object"==l?(null==a[b]&&(a[b]={}),l=a[b],a[b]=p(d,l)):a[b]=d}return a}function g(){q=Object.assign({},c.prod);n(t);return q}r=h("../config/env.json").current;var c=h("../config/general.json"),t=c[r],k=h("./helpers"),q,f=0;g();
m.exports={loadConfig:n,getValue:function(e){return k.deepGet(q,e)},reset:function(){q=null;g()},all:function(){return q}}},{"../config/env.json":2,"../config/general.json":5,"./helpers":17}],10:[function(h,m,r){var n=h("./ConfigLoader"),p=h("../config/errors.json"),g=h("../config/initializeOptions.json"),c=h("./helpers"),t=h("./DigiTrustConsent"),k=h("./DigiTrustCookie"),q=h("./DigiTrustCommunication");r=h("./DigiTrustCrypto");var f=h("./logger"),e=f.createLogger("Digitrust",{level:"ERROR",enabled:!1}),
a={version:h("../_version.js"),isClient:!1,_config:{loader:n,errors:p,initOptions:g,crypto:r},cookie:k,util:c},b=function(){};a.initializeOptions={};var d=function(a){if(a&&0<a.length)return!0;throw p.en.memberId;};a._setDigiTrustOptions=function(a){a=Object.assign({},g,a);window.DigiTrust.initializeOptions=a;null==a.logging&&(a.logging=n.getValue("logging"));null!=a.logging&&(0==a.logging.enable?(e=f.createLogger("Digitrust",{level:"ERROR"}),e.enabled=!1):(null==a.logging.level&&(a.logging.level=
"INFO"),e=f.createLogger("Digitrust",a.logging)));return window.DigiTrust.initializeOptions};var l=!1;a._config.reload=function(){l=!1;a._config.loader.reset()};a._config.getConfig=function(){var b=window.DigiTrust.initializeOptions;b=b&&b.environment;var d;if(l)return a._config.loader;var e={},c=["urls","iframe","redirectInterval","redir"];for(d=0;d<c.length;d++){var f=void 0,u=e,g=b,k=c[d];try{if(null!=g[k])for(f in null==u[k]&&(u[k]={}),g[k])g[k].hasOwnProperty(f)&&(u[k][f]=g[k][f])}catch(x){}}a._config.loader.loadConfig(e);
l=!0;return a._config.loader};var u=function(l,c){e.debug("init Internal");try{void 0===c&&(c=b);var f={success:!1};l&&l.environment&&n.loadConfig(l.environment);l=a._setDigiTrustOptions(l);e.debug("init options completed");if(Math.random()>l.sample||!d(l.member))return c(f);t.hasConsent(null,function(a){if(a)k.getUser(l,function(a,b){a||(f.success=!0,f.identity=b);return c(f)});else return c(f)})}catch(v){return e.error("Error in DigiTrust initializer",v),c({success:!1})}};a.initialize=function(b,
d){var l=window.document,c=l.readyState;a.isClient=!0;c&&"loading"!=c?u(b,d):l.addEventListener("DOMContentLoaded",function(l){a.initialize(b,d)})};a.getUser=function(b,l){b=a._setDigiTrustOptions(b);var e="function"===typeof l?!0:!1,f={success:!1};try{if(!d(b.member))return!1===e?f:l(f);if(!1===e){var u=k.getUser();c.isEmpty(u)||(f.success=!0,f.identity=u);return f}t.hasConsent(null,function(a){if(a)b.ignoreLocalCookies=!0,k.getUser(b,function(a,b){a||(f.success=!0,f.identity=b);return l(f)});else return l(f)})}catch(w){return!1===
e?f:l(f)}};a.sendReset=function(a,b){q.sendReset()};m.exports=a},{"../_version.js":1,"../config/errors.json":3,"../config/initializeOptions.json":6,"./ConfigLoader":9,"./DigiTrustCommunication":11,"./DigiTrustConsent":12,"./DigiTrustCookie":13,"./DigiTrustCrypto":14,"./helpers":17,"./logger":18}],11:[function(h,m,r){function n(){if(!k){var a=window.DigiTrust.initializeOptions;null!=a.logging&&(0==a.logging.enable?(t=c.createLogger("DigiTrustCommunication",{level:"ERROR"}),t.enabled=!1):(null==a.logging.level&&
(a.logging.level="INFO"),t=c.createLogger("DigiTrustCommunication",a.logging)));k=!0}}function p(a){var b=DigiTrust._config.getConfig().getValue("iframe.postMessageOrigin"),d=a.data.type;if(a.origin!==b)switch(d){case "Digitrust.shareIdToIframe.request":DigiTrust?DigiTrust.getUser({member:window.DigiTrust.initializeOptions.member},function(b){b.type="Digitrust.shareIdToIframe.response";a.source.postMessage(b,a.origin)}):console.log("DigiTrust not found");break;default:t.warn("message origin error. allowed: "+
b+" \nwas from: "+a.origin)}else switch(d){case e.ready:q.publish(d,[!0]);break;default:q.publish(d,[a.data.value])}}var g=h("../config/errors.json"),c=h("./logger"),t=c.createLogger("DigiTrustCommunication",{level:"ERROR"}),k=!1,q=h("./MinPubSub").createPubSub({host:location.host}),f={},e={ready:"DigiTrust.iframe.ready",ifrErr:"DigiTrust.iframe.error",idSync:"DigiTrust.identity.response.sync",idResp:"DigiTrust.identity.response",idReset:"DigiTrust.identity.reset",idGet:"DigiTrust.identity.request"};
f.iframe=null;f.iframeStatus=0;f.startConnection=function(a){n();var b=DigiTrust._config.getConfig().getValue("iframe"),d=setTimeout(function(){a(!1);f.iframeStatus=0},b.timeoutDuration);q.subscribe(e.ready,function(b){clearTimeout(d);d=0;f.iframeStatus=2;a(!0)});window.addEventListener("message",p,!1);f.iframe=document.createElement("iframe");f.iframe.style.display="none";f.iframe.src=DigiTrust._config.getConfig().getValue("urls.digitrustIframe");f.iframe.name="__dtLocator";f.iframeStatus=1;document.body.appendChild(f.iframe);
t.debug("communication frame added")};f.sendRequest=function(a,b){2===f.iframeStatus?a(b):1===f.iframeStatus?q.subscribe(e.ready,function(d){a(b)}):0===f.iframeStatus&&f.startConnection(function(d){if(d)a(b);else throw Error(g.en.iframeError);})};f.getIdentity=function(a){a=a?a:{};f.sendRequest(function(a){f.iframe.contentWindow.postMessage({version:1,type:e.idGet,syncOnly:a.syncOnly?a.syncOnly:!1,redirects:a.redirects?a.redirects:!1,value:{}},f.iframe.src)},a)};f.sendReset=function(a){h("./DigiTrustCookie").setResetCookie();
f.sendRequest(function(a){f.iframe.contentWindow.postMessage({version:1,type:e.idReset},f.iframe.src)},a)};m.exports={getIdentity:f.getIdentity,startConnection:f.startConnection,sendReset:f.sendReset,MsgKey:e,listen:function(a,b){"function"===typeof b&&q.subscribe(a,b)}}},{"../config/errors.json":3,"./DigiTrustCookie":13,"./MinPubSub":15,"./logger":18}],12:[function(h,m,r){var n=h("../config/env.json").current,p=h("../config/gdpr-lang.json"),g={browserLanguageIsEU:function(c){for(var g=0;g<c.length;g++)if(0<=
p.gdprLanguages.indexOf(c[g].toLowerCase()))return!0;return!1},cmpConsent:function(c){return!1},gdprApplies:function(c){return g.browserLanguageIsEU(navigator.languages||[navigator.browserLanguage])},hasConsent:function(c,h){var k=g.gdprApplies(),m=DigiTrust._config.getConfig().getValue("gvlVendorId");if("local"===n||"localdev"===n)k=!1;"undefined"!==typeof window.__cmp?window.__cmp("ping",null,function(c){k||c.gdprAppliesGlobally?window.__cmp("getVendorConsents",[m],function(c){h(c.vendorConsents[m])}):
h(!0)}):k?h(!1):h(!0)}};m.exports={hasConsent:g.hasConsent}},{"../config/env.json":2,"../config/gdpr-lang.json":4}],13:[function(h,m,r){function n(){return window&&window.DigiTrust&&window.DigiTrust._config?window.DigiTrust._config.getConfig():p}var p=h("./ConfigLoader"),g=h("./DigiTrustCommunication"),c=h("./helpers"),t=function(a){var b=new Date;b.setTime(b.getTime()+a);return b.toUTCString()},k=function(a,b,d,l){a=a+b+d+l;";"!=a.substr(a.length-1)&&(a+=";");document.cookie=a+"SameSite=none;"},
q=function(a){var b=window.DigiTrust.isClient?n().getValue("cookie.publisher"):n().getValue("cookie.digitrust");a=b.userObjectKey+"="+a+";";var d="expires="+t(b.maxAgeMiliseconds)+";";k(a,d,b.domainKeyValue,b.pathKeyValue)},f=function(a){if(!a)return!1;var b=a.hasOwnProperty("id"),d=a.hasOwnProperty("privacy");return!b||!d||!a.privacy.optout&&1>a.id.length||!d||!a.privacy.hasOwnProperty("optout")?!1:!0},e={getIdentityCookieJSON:function(a){a=a||n().getValue("cookie.digitrust.userObjectKey");if(a=
e.getCookieByName(a)){var b={};try{b=e.unobfuscateCookieValue(a)}catch(d){b={id:c.generateUserId(),version:n().getValue("cookie.version"),producer:n().getValue("cookie.producer"),privacy:{optout:!1}},q(e.obfuscateCookieValue(b))}return f(b)?b:{}}return{}},setResetCookie:function(){var a=n().getValue("cookie"),b=a.digitrust.resetKey+"=true;",d="expires="+t(a.digitrust.maxAgeMiliseconds)+";";k(b,d,a.digitrust.domainKeyValue,a.digitrust.pathKeyValue)},expireCookie:function(a){var b=n().getValue("cookie");
a+="=; ";var d="",l=b.digitrust.pathKeyValue;try{-1<location.host.indexOf(b.digitrust.domainKeyValue)&&(d=b.digitrust.domainKeyValue)}catch(u){}k(a,"expires=expires=Thu, 01 Jan 1970 00:00:01 GMT;",d,l)},setDigitrustCookie:function(a){var b=n().getValue("cookie");a=b.digitrust.userObjectKey+"="+a+";";var d="expires="+t(b.digitrust.maxAgeMiliseconds)+";";k(a,d,b.digitrust.domainKeyValue,b.digitrust.pathKeyValue)},getUser:function(a,b){var d=n().getValue("cookie");a=a||{};var l={},f=function(){g.listen(g.MsgKey.idSync,
function(a){e.verifyPublisherDomainCookie(a)&&(a=e.obfuscateCookieValue(a),q(a))})};if(!1===("function"===typeof b?!0:!1))return l=e.getIdentityCookieJSON(d.publisher.userObjectKey),f(),g.getIdentity({syncOnly:!0}),c.isEmpty(l)?{}:l;g.listen(g.MsgKey.idResp,function(d){if(e.verifyPublisherDomainCookie(d)){var l=e.obfuscateCookieValue(d);q(l);return b(!1,d)}c.isEmpty(d)&&!d.hasOwnProperty("error")&&a.redirects&&c.createConsentClickListener();return b(!0)});if(!0===a.ignoreLocalCookies)g.getIdentity();
else{l=e.getIdentityCookieJSON(d.publisher.userObjectKey);if(e.verifyPublisherDomainCookie(l))return f(),g.getIdentity({syncOnly:!0}),b(!1,l);g.getIdentity({syncOnly:!1,redirects:a.redirects})}},obfuscateCookieValue:function(a){return encodeURIComponent(btoa(JSON.stringify(a)))},unobfuscateCookieValue:function(a){return JSON.parse(atob(decodeURIComponent(a)))},getCookieByName:function(a){a=("; "+document.cookie).split("; "+a+"=");if(2<=a.length)return a.pop().split(";").shift()},createUserCookiesOnDigitrustDomain:function(){var a=
n().getValue("cookie");a={id:c.generateUserId(),version:a.version,producer:a.producer,privacy:{optout:!1}};var b=e.obfuscateCookieValue(a);e.setDigitrustCookie(b);return a},verifyPublisherDomainCookie:function(a){return!c.isEmpty(a)&&f(a)&&a.hasOwnProperty("keyv")?!0:!1}};m.exports=e},{"./ConfigLoader":9,"./DigiTrustCommunication":11,"./helpers":17}],14:[function(h,m,r){function n(){if(!e){var a=window.DigiTrust.initializeOptions;null==a.logging&&(a.logging=g.getValue("logging"));null!=a.logging&&
(0==a.logging.enable?(f=q.createLogger("DigiTrustCrypto",{level:"ERROR"}),f.enabled=!1):(null==a.logging.level&&(a.logging.level="INFO"),f=q.createLogger("DigiTrustCrypto",a.logging)));e=!0}}function p(a){a&&a.subtle||(a=window.crypto);if(!a||!a.subtle)return f.debug("Invalid browser crypt object"),!1;if(!window.msCrypto)return!1;try{return"undefined"!==typeof a.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},!1,["encrypt","decrypt"]).oncomplete?
!0:!1}catch(u){return!1}}var g=h("./ConfigLoader"),c=h("./helpers"),t=h("./ServerCrypto"),k=h("../config/key.json"),q=h("./logger"),f=q.createLogger("DigiTrustCrypto",{level:"ERROR"}),e=!1,a=c.getBrowserCrypto(),b=function(b,d,e,g){a.subtle.importKey(d,e,{name:k.type,hash:{name:k.hash.name}},!1,["decrypt"]).oncomplete=function(l){l=a.subtle.decrypt({name:k.type,hash:{name:k.hash.name}},l.target.result,c.base64StringToArrayBuffer(b));l.onerror=function(a){console.error(a)};l.oncomplete=function(a){a=
c.ab2str(a.target.result);f.debug("just decrypted",d,a);return g(a)}}},d=function(b,d,e,g){a.subtle.importKey(d,e,{name:k.type,hash:{name:k.hash.name}},!1,["encrypt"]).oncomplete=function(d){d=d.target.result;try{a.subtle.encrypt({name:k.type,hash:{name:k.hash.name}},d,c.str2ab(b)).oncomplete=function(a){a=a.target.result;a="string"===typeof a?a:c.arrayBufferToBase64String(a);return g(a)}}catch(v){f.error("Digitrust server MSIE Encrypt error",v)}}};m.exports={getKeyVersion:function(){return k.version},
encrypt:function(b,e){n();null==a&&(a=c.getBrowserCrypto());if(c.isSafari()){var l="jwk";var u=k.jwk}else l="spki",u=c.base64StringToArrayBuffer(k.spki);window.crypto&&!window.crypto.subtle&&c.isChrome()&&Math.random()<g.getValue("crypto.serverCryptoRate")&&(a.subtle=t.mockCryptoSubtle());f.debug("encrypt value: ",b);p(a)?d(b,l,u,e):a.subtle.importKey(l,u,{name:k.type,hash:{name:k.hash.name}},!1,["encrypt"]).then(function(d){a.subtle.encrypt({name:k.type,hash:{name:k.hash.name}},d,c.str2ab(b)).then(function(a){a=
"string"===typeof a?a:c.arrayBufferToBase64String(a);return e(a)}).catch(function(a){})})},decrypt:function(d,e){var l="jwk",g=k.jwkPrivate;n();f.debug("attempt to decrypt value: ",d);null==a&&(a=c.getBrowserCrypto());if(c.isSafari()){l="jwk";var u=k.jwk}else l="spki",u=c.base64StringToArrayBuffer(k.spki);p(a)?b(d,l,u,e):(f.debug("ready to create key"),a.subtle.importKey(l,g,{name:k.type,hash:{name:k.hash.name}},!1,["decrypt"]).then(function(b){f.debug("enter decrypt with key",b);a.subtle.decrypt({name:k.type,
hash:{name:k.hash.name}},b,c.base64StringToArrayBuffer(d)).then(function(a){a=c.ab2str(a);f.debug("just decrypted",l,a);return e(a)})}))}}},{"../config/key.json":7,"./ConfigLoader":9,"./ServerCrypto":16,"./helpers":17,"./logger":18}],15:[function(h,m,r){function n(h){var g=window.c_||{};this.publish=function(c,h){for(var k=(c=g[c])?c.length:0;k--;)c[k].apply(window,h||[])};this.subscribe=function(c,h){g[c]||(g[c]=[]);g[c].push(h);return[c,h]};this.unsubscribe=function(c,h){var k=g[h?c:c[0]];h=h||
c[1];for(c=k?k.length:0;c--;)k[c]===h&&k.splice(c,1)}}m.exports={createPubSub:function(h){return new n(h)}}},{}],16:[function(h,m,r){var n=h("./ConfigLoader"),p=h("./helpers");m.exports={mockCryptoSubtle:function(){return{importKey:function(g,c,h,k,m){return new Promise(function(c,e){c()})},encrypt:function(g,c,h){return new Promise(function(c,g){p.xhr.promise("GET",(window&&window.DigiTrust&&window.DigiTrust._config?window.DigiTrust._config.getConfig():n).getValue("urls.digitrustIdService")).then(function(f){f=
JSON.parse(f);c(f.id)}).catch(function(c){g(c)})})}}}}},{"./ConfigLoader":9,"./helpers":17}],17:[function(h,m,r){function n(){return window&&window.DigiTrust&&window.DigiTrust._config?window.DigiTrust._config.getConfig():p}var p=h("./ConfigLoader"),g={extend:function(a,b){a=a||{};for(var d in b)a[d]="object"===typeof b[d]?g.extend(a[d],b[d]):b[d];return a}},c=function(){var a=window.crypto||window.msCrypto;window.crypto&&!window.crypto.subtle&&window.crypto.webkitSubtle&&(window.crypto.subtle=window.crypto.webkitSubtle);
return a},t=function(a,b,d){var c=function(a){var b=null!=d&&"function"===typeof d?!0:!1;b&&d.call(null,a)};a.addEventListener(b,c);return c},k=function(a,b,d){return new Promise(function(d,c){var e=new XMLHttpRequest;e.open(a,b);e.withCredentials=!0;e.onload=function(){200<=this.status&&300>this.status?d(e.response):c({status:this.status,statusText:e.statusText})};e.onerror=function(){c({status:this.status,statusText:e.statusText})};e.send()})},q=function(a,b,d,e){e=e?e?!0:!1:!0;var c={success:function(){},
error:function(){}},l=new (window.XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");l.open(a,b,e);l.setRequestHeader("Content-type","application/x-www-form-urlencoded");l.onreadystatechange=function(){4===l.readyState&&(200<=l.status&&300>l.status?c.success.apply(c,[l.responseText,l]):c.error.apply(c,[l.responseText,l]))};l.send(d);var f={success:function(a){c.success=a;return f},error:function(a){c.error=a;return f}};return f};g.xhr={get:function(a,b,d){return q("GET",a,b,d)},put:function(a,b,
d){return q("PUT",a,b,d)},post:function(a,b,d){return q("POST",a,b,d)},delete:function(a,b,d){return q("DELETE",a,b,d)},promise:function(a,b,d){return k(a,b,d)}};var f=function(a){return a?"a"===a.nodeName.toLowerCase()?a.href:"body"===a.nodeName.toLowerCase()?!1:f(a.parentNode):!1};g.getConfig=n;g.getAbsolutePath=function(a){var b=document.createElement("a");b.href=a;return b.cloneNode(!1).href};var e={_settings:{key:null,expire:{val:7,per:"d"},expirePeriods:{d:24,h:1,m:1/60,s:1/3600},checkLoad:function(){var a=
e._settings;if(null!=a.key)return!0;var b=n().redirectInterval||{};a.key=b.key||"DigiTrust.v1.redir";b.exp&&(a.expire.val=b.exp);b.experiod&&(a.expire.per=b.experiod)}},getStore:function(){e._settings.checkLoad();return window.localStorage},ignoreRedirect:function(){var a=e.getStore(),b=e._settings;a=a.getItem(b.key);if(null==a)return!1;try{var d=JSON.parse(a);return(new Date(d.exp)).setHours(b.expire.val*(b.expirePeriods[b.expire.per]||24))<=(new Date).getTime()?(e.clearRedirectFlag(),!1):!0}catch(l){return e.clearRedirectFlag(),
!1}},clearRedirectFlag:function(){e.getStore().removeItem(e._settings.key)},clearAll:function(){e.clearRedirectFlag()},setRedirectFlag:function(){var a=e.getStore(),b=e._settings.key,d={val:!0,exp:(new Date).getTime()};a.setItem(b,JSON.stringify(d))}};g.resetFlags=function(){e.clearAll()};g.createConsentClickListener=function(){try{var a=window.self!==window.top}catch(d){a=!0}if(!a&&!e.ignoreRedirect())var b=t(window,"click",function(a){a=a||window.event;a=a.target||a.srcElement;if("digitrust-optout"===
a.id)return!0;a=f(a)||"";var d=a.indexOf("http://"),c=a.indexOf("https://");if(0==d||0==c)return window&&window.removeEventListener&&window.removeEventListener("click",b),e.setRedirectFlag(),window.location=p.getValue("urls.digitrustRedirect")+"?redirect="+encodeURIComponent(a),!1})};g.generateUserId=function(){var a=new Uint8Array(8);c().getRandomValues(a);return g.arrayBufferToBase64String(a)};g.isEmpty=function(a){if(null===a||"undefined"===typeof a)return!0;if(0<a.length)return!1;if(0===a.length)return!0;
for(var b in a)if(hasOwnProperty.call(a,b))return!1;return!0};g.deepGet=function(a,b){if("object"!=typeof a||g.isEmpty(a)||null==b)return null;var d=b.split("."),c=d.length;for(b=0;b<c;b++){var e=d[b];a=a[e];if(b==c-1||null==a)return a}return null};g.getUrlParameterByName=function(a,b){b=b||location.search;a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(b);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))};g.isIE=function(a){a=a||navigator.userAgent;
a=a.toLowerCase();return-1<Math.max(a.indexOf("msie"),a.indexOf("trident"))?!0:!1};g.isSafari=function(a){a=a||navigator.userAgent;a=a.toLowerCase();return-1===a.indexOf("safari")||-1<a.indexOf("chrome")?!1:!0};g.isChrome=function(a){a=a||navigator.userAgent;a=a.toLowerCase();return-1!==a.indexOf("chrome")?!0:!1};g.isValidJSON=function(a){try{JSON.parse(a)}catch(b){return!1}return!0};g.ab2str=function(a){return String.fromCharCode.apply(null,new Uint8Array(a))};g.str2ab=function(a){for(var b=new ArrayBuffer(a.length),
d=new Uint8Array(b),c=0,e=a.length;c<e;c++)d[c]=a.charCodeAt(c);return b};g.arrayBufferToBase64String=function(a){a=new Uint8Array(a);for(var b="",d=0;d<a.byteLength;d++)b+=String.fromCharCode(a[d]);return btoa(b)};g.base64StringToArrayBuffer=function(a){a=atob(a);for(var b=a.length,d=new Uint8Array(b),c=0;c<b;c++)d[c]=a.charCodeAt(c);return d.buffer};g.asciiToUint8Array=function(a){for(var b=[],d=0;d<a.length;++d)b.push(a.charCodeAt(d));return new Uint8Array(b)};g.getBrowserCrypto=c;(function(){"function"!=
typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(a,b){if(null==a)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(null!=e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(d[f]=e[f])}return d},writable:!0,configurable:!0})})();m.exports=g},{"./ConfigLoader":9}],18:[function(h,m,r){function n(e){var a=typeof e;if("string"===a)e=c[e];else if("number"===a)e=t[e];else return 3;return null==
e?3:e.val}function p(c){var a=[],b;if(null==c)return a;if("object"===typeof c&&null==c.length)return a.push(c),a;for(b=0;b<c.length;b++){var d=c[b];void 0!=d&&a.push(d)}return a}function g(){this.name="Logger";this.opts={level:"ERROR"};this.enabled=!0;var e=p(arguments),a=this,b=console;this.setConsoleObj=function(a){"function"!==typeof a.log&&(a.log=q);var c=k,d;for(d=0;d<c.length;d++)"function"!==typeof a[c[d]]&&(a[c[d]]=a.log);b=a};(function(b){b=b||[];var c;if(0!=b.length)for(c=0;c<b.length;c++){var d=
b[c];var e=typeof d;"string"===e?a.name=d:"object"==e&&(a.opts=d,null!=d.name&&(a.name=d.name),null==d.level&&(d.level="ERROR"),null!=d.console&&a.setConsoleObj(d.console))}})(e);this.log=function(){var d=p(arguments);var e=!0;var g=c.LOG;if(1==this.enabled){if(2<=d.length)if("string"===typeof d[d.length-1]){g=d.pop();e=(e=c[g])&&e.val||0;var h=n(a.opts.level);console.log("---LEVEL CHECH --- MINE: "+h+" ASK: "+e);console.table(e);e=e>=h;g=c[g]}else"number"===typeof d[d.length-1]&&(g=d.pop(),e=g>=
n(a.opts.level),g=t[g]);if(e)return g||(g=c.LOG),e=0==d.length?this.name+": [no message]":"string"===typeof d[0]?this.name+": "+d.shift():this.name,d.unshift(e),((e=g.val==f.WARN||g.val==f.ERROR)||g.val==f.DEBUG)&&d.push({page:document.location.href}),h=b,d=h[g.log]?h[g.log].apply(null,d):h.log.apply(null,d),e&&h.trace&&h.trace(),d}}}var c={DEBUG:{val:0,log:"log"},INFO:{val:1,log:"log"},WARN:{val:2,log:"warn"},ERROR:{val:3,log:"error"},LOG:{val:99,log:"log"}},t=[c.DEBUG,c.INFO,c.WARN,c.ERROR,c.LOG],
k=["info","debug","warn","error","trace"],q=function(){};g.prototype.setLogLevel=function(c){var a=typeof c;if("string"===a)this.opts.level=c;else if("number"===a&&(c=t[c]))try{this.opts.level=c.log.toUpperCase()}catch(b){}};g.prototype.getLevels=function(){return c};g.prototype.debug=function(){var c=p(arguments);c.push(f.DEBUG);return this.log.apply(this,c)};g.prototype.info=function(){var c=p(arguments);c.push(f.INFO);return this.log.apply(this,c)};g.prototype.warn=function(){var c=p(arguments);
c.push(f.WARN);return this.log.apply(this,c)};g.prototype.error=function(){var c=p(arguments);c.push(f.ERROR);return this.log.apply(this,c)};var f={createLogger:function(c,a,b,d,f,h){return new g(c,a,b,d,f,h)},DEBUG:0,INFO:1,WARN:2,ERROR:3};m.exports=f},{}]},{},[8]);
